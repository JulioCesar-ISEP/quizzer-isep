:root{--primary: #3b82f6;--primary-dark: #2563eb;--primary-light: #60a5fa;--secondary: #10b981;--secondary-dark: #059669;--danger: #ef4444;--danger-dark: #dc2626;--warning: #f59e0b;--warning-dark: #d97706;--success: #10b981;--success-dark: #059669;--purple: #8b5cf6;--purple-dark: #7c3aed;--text-primary: #1e293b;--text-secondary: #64748b;--text-light: #f8fafc;--text-muted: #94a3b8;--bg-primary: #ffffff;--bg-secondary: #f8fafc;--bg-tertiary: #f1f5f9;--bg-dark: #0f172a;--bg-card-dark: #1e293b;--bg-overlay: rgba(0, 0, 0, .1);--border-light: #e2e8f0;--gradient-primary: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);--gradient-success: linear-gradient(135deg, #10b981 0%, #059669 100%);--gradient-warning: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);--gradient-danger: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);--space-xs: .25rem;--space-sm: .5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-2xl: 3rem;--space-3xl: 4rem;--border-radius-sm: 6px;--border-radius: 10px;--border-radius-lg: 14px;--border-radius-xl: 18px;--border-radius-2xl: 24px;--shadow-sm: 0 1px 3px rgba(0, 0, 0, .1);--shadow: 0 4px 6px rgba(0, 0, 0, .05);--shadow-md: 0 6px 12px rgba(0, 0, 0, .08);--shadow-lg: 0 10px 25px rgba(0, 0, 0, .1);--shadow-xl: 0 20px 40px rgba(0, 0, 0, .15);--shadow-inner: inset 0 2px 4px rgba(0, 0, 0, .05);--transition-fast: .15s cubic-bezier(.4, 0, .2, 1);--transition: .3s cubic-bezier(.4, 0, .2, 1);--transition-slow: .5s cubic-bezier(.4, 0, .2, 1)}[data-theme=dark]{--bg-primary: #0f172a;--bg-secondary: #1e293b;--bg-tertiary: #334155;--text-primary: #f1f5f9;--text-secondary: #cbd5e1;--text-muted: #94a3b8;--border-light: #475569}*{margin:0;padding:0;box-sizing:border-box}html{font-size:16px;scroll-behavior:smooth}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--text-primary);background-color:var(--bg-primary);transition:background-color var(--transition),color var(--transition)}body.modal-open{overflow:hidden}::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:4px}::-webkit-scrollbar-thumb{background:var(--primary);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--primary-dark)}h1,h2,h3,h4,h5,h6{font-weight:700;line-height:1.2;margin-bottom:var(--space-md);color:var(--text-primary)}h1{font-size:clamp(2rem,5vw,3rem);font-weight:800}h2{font-size:clamp(1.5rem,4vw,2.25rem)}h3{font-size:clamp(1.25rem,3vw,1.75rem)}h4{font-size:clamp(1.125rem,2.5vw,1.5rem)}h5{font-size:1.125rem}h6{font-size:1rem}p{margin-bottom:var(--space-md);color:var(--text-secondary);line-height:1.7}a{color:var(--primary);text-decoration:none;transition:color var(--transition)}a:hover{color:var(--primary-dark);text-decoration:underline}strong{font-weight:700;color:var(--text-primary)}em{font-style:italic;color:var(--text-secondary)}code{font-family:JetBrains Mono,Fira Code,Consolas,Monaco,monospace;font-size:.9em;background:var(--bg-tertiary);padding:.2em .4em;border-radius:var(--border-radius-sm);color:var(--text-primary)}pre{overflow-x:auto;background:var(--bg-tertiary);padding:var(--space-lg);border-radius:var(--border-radius-lg);margin-bottom:var(--space-lg)}pre code{background:none;padding:0}ul,ol{margin-bottom:var(--space-md);padding-left:var(--space-xl);color:var(--text-secondary)}li{margin-bottom:var(--space-sm);line-height:1.7}blockquote{border-left:4px solid var(--primary);padding-left:var(--space-lg);margin:var(--space-lg) 0;color:var(--text-secondary);font-style:italic}hr{border:none;height:1px;background:var(--border-light);margin:var(--space-2xl) 0}.gradient-text{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.card-base{background:var(--bg-primary);border:2px solid var(--border-light);border-radius:var(--border-radius-xl);transition:all var(--transition);box-shadow:var(--shadow);position:relative}.card-base:hover{transform:translateY(-6px);box-shadow:var(--shadow-xl);border-color:var(--primary-light)}.card-base:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-primary);transform:scaleX(0);transition:transform var(--transition);border-radius:var(--border-radius-xl) var(--border-radius-xl) 0 0}.card-base:hover:before,.card-base:focus:before{transform:scaleX(1)}.btn-base{border:none;border-radius:var(--border-radius-lg);padding:var(--space-md) var(--space-lg);font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:var(--space-md);transition:all var(--transition);font-size:1rem;min-width:44px;min-height:44px;text-decoration:none;position:relative;overflow:hidden}.btn-base:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left var(--transition-slow)}.btn-base:hover:before{left:100%}.btn-base:hover,.btn-base:focus{transform:translateY(-2px);box-shadow:var(--shadow-md);outline:none}.btn-base:active{transform:translateY(0)}.container{max-width:1200px;margin:0 auto;padding:0 var(--space-xl);width:100%}.flex-center{display:flex;align-items:center;justify-content:center}.flex-between{display:flex;align-items:center;justify-content:space-between}.flex-column{display:flex;flex-direction:column}.flex-gap-sm{gap:var(--space-sm)}.flex-gap-md{gap:var(--space-md)}.flex-gap-lg{gap:var(--space-lg)}.grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-lg)}.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-lg)}.grid-auto{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--space-lg)}.m-0{margin:0}.m-auto{margin:auto}.mt-auto{margin-top:auto}.mb-auto{margin-bottom:auto}.p-0{padding:0}.px-0{padding-left:0;padding-right:0}.py-0{padding-top:0;padding-bottom:0}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.text-muted{color:var(--text-muted)}.text-secondary{color:var(--text-secondary)}.text-primary{color:var(--text-primary)}.text-success{color:var(--success)}.text-danger{color:var(--danger)}.text-warning{color:var(--warning)}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-line-clamp-2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.hidden{display:none!important}.visible{display:block!important}.inline{display:inline-block}.opacity-50{opacity:.5}.opacity-75{opacity:.75}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-max{z-index:9999}.border-primary{border-color:var(--primary)}.border-success{border-color:var(--success)}.border-danger{border-color:var(--danger)}.border-warning{border-color:var(--warning)}.btn-base{border:none;border-radius:var(--border-radius-lg);padding:var(--space-md) var(--space-lg);font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:var(--space-sm);transition:all var(--transition);font-family:inherit;font-size:.95rem;min-height:48px;text-decoration:none;position:relative;overflow:hidden}.btn{@extend .btn-base;flex:1}.btn:hover,.btn:focus{transform:translateY(-2px);box-shadow:var(--shadow-md);outline:none}.btn:active{transform:translateY(0)}.btn-primary{background:var(--gradient-primary);color:#fff}.btn-primary:hover,.btn-primary:focus{box-shadow:var(--shadow-lg);background:var(--primary-dark)}.btn-secondary{background:var(--bg-secondary);color:var(--text-primary);border:2px solid var(--border-light)}.btn-secondary:hover,.btn-secondary:focus{background:var(--primary);color:#fff;border-color:var(--primary)}.btn-success{background:var(--gradient-success);color:#fff}.btn-success:hover,.btn-success:focus{box-shadow:var(--shadow-lg);background:var(--success-dark)}.btn-danger{background:var(--gradient-danger);color:#fff}.btn-danger:hover,.btn-danger:focus{box-shadow:var(--shadow-lg);background:var(--danger-dark)}.btn-warning{background:var(--gradient-warning);color:#fff}.btn-warning:hover,.btn-danger:focus{box-shadow:var(--shadow-lg);background:var(--warning-dark)}.btn-sm{padding:var(--space-sm) var(--space-md);font-size:.875rem;min-height:40px}.btn-lg{padding:var(--space-lg) var(--space-xl);font-size:1.1rem;min-height:56px}.btn-xl{padding:var(--space-xl) var(--space-2xl);font-size:1.25rem;min-height:64px}.back-btn{background:var(--bg-secondary);color:var(--text-primary);border:2px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-md) var(--space-lg);cursor:pointer;font-weight:600;transition:all var(--transition);display:flex;align-items:center;gap:var(--space-sm);min-height:48px;text-decoration:none}.back-btn:hover,.back-btn:focus{background:var(--primary);color:#fff;border-color:var(--primary);outline:none;transform:translate(-2px)}.start-btn{background:var(--gradient-primary);color:#fff;border:none;border-radius:var(--border-radius-lg);padding:var(--space-md) var(--space-lg);font-weight:600;cursor:pointer;display:flex;align-items:center;gap:var(--space-sm);transition:all var(--transition);font-size:.95rem;min-height:48px}.start-btn:hover,.start-btn:focus{transform:translateY(-2px);box-shadow:var(--shadow-lg);outline:none}.theory-btn{background:var(--purple);color:#fff;border:none;border-radius:var(--border-radius-lg);padding:var(--space-md) var(--space-lg);font-weight:600;cursor:pointer;display:flex;align-items:center;gap:var(--space-sm);transition:all var(--transition);min-height:48px}.theory-btn:hover,.theory-btn:focus{background:var(--purple-dark);transform:translateY(-2px);box-shadow:var(--shadow-md);outline:none}.theme-toggle-btn{background:var(--bg-secondary);border:2px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-md);cursor:pointer;transition:all var(--transition);display:flex;align-items:center;justify-content:center;min-width:52px;min-height:52px;color:var(--text-primary)}.theme-toggle-btn:hover,.theme-toggle-btn:focus{transform:scale(1.05);box-shadow:var(--shadow-md);border-color:var(--primary);outline:none}.next-btn{background:var(--gradient-primary);color:#fff;border:none;border-radius:var(--border-radius-lg);padding:var(--space-lg) var(--space-xl);font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:var(--space-md);transition:all var(--transition);font-size:1.1rem;width:100%;min-height:56px}.next-btn:hover,.next-btn:focus{transform:translateY(-2px);box-shadow:var(--shadow-lg);outline:none}.nav-btn{background:var(--bg-primary);border:2px solid var(--border-light);border-radius:var(--border-radius);padding:var(--space-md) var(--space-lg);cursor:pointer;display:flex;align-items:center;gap:var(--space-sm);font-weight:600;transition:all var(--transition);color:var(--text-primary);white-space:nowrap}.nav-btn:hover:not(:disabled){border-color:var(--primary);background:var(--primary);color:#fff;transform:translateY(-2px)}.nav-btn:disabled{opacity:.5;cursor:not-allowed}.quiz-btn{background:var(--gradient-primary);color:#fff;border:none;border-radius:var(--border-radius-lg);padding:var(--space-lg) var(--space-xl);font-size:1.1rem;font-weight:600;display:inline-flex;align-items:center;gap:var(--space-md)}.quiz-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.option-btn{background:var(--bg-secondary);border:2px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-lg);text-align:left;cursor:pointer;display:flex;align-items:center;gap:var(--space-lg);transition:all var(--transition);font-size:1rem;font-weight:500;min-height:72px;position:relative;overflow:hidden;color:var(--text-primary);width:100%}.option-btn:disabled{cursor:not-allowed;opacity:.6;background:var(--bg-tertiary)}.option-btn .option-letter{width:32px;height:32px;background:var(--bg-tertiary);border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;color:var(--text-primary);flex-shrink:0;transition:all var(--transition);border:2px solid transparent}.option-btn:hover .option-letter{background:var(--primary);color:#fff;transform:scale(1.1)}.option-btn.correct .option-letter,.option-btn.incorrect .option-letter{color:#fff;background:transparent;border-color:currentColor}.option-btn.correct .option-letter{background:var(--success);border-color:var(--success)}.option-btn.incorrect .option-letter{background:var(--danger);border-color:var(--danger)}.option-text{flex:1;text-align:left;font-weight:500;line-height:1.4;color:inherit}.option-icon{width:20px;height:20px;flex-shrink:0;opacity:0;transition:opacity var(--transition)}.option-btn.correct .option-icon{color:var(--success)}.option-btn.incorrect .option-icon{color:var(--danger)}.modal-close-btn{background:var(--bg-secondary);border:none;cursor:pointer;padding:var(--space-sm);display:flex;align-items:center;justify-content:center;transition:all var(--transition);border-radius:var(--border-radius);min-width:44px;min-height:44px;color:var(--text-primary);flex-shrink:0;margin-left:var(--space-md)}.modal-close-btn:hover,.modal-close-btn:focus{transform:scale(1.1);background:var(--primary);color:#fff;outline:none}.btn:disabled,.option-btn:disabled{opacity:.6;cursor:not-allowed;transform:none!important;box-shadow:none!important}.btn:disabled:hover,.option-btn:disabled:hover{transform:none!important;box-shadow:none!important}.btn-group{display:flex;gap:var(--space-sm);flex-wrap:wrap}.btn-group .btn{flex:1;min-width:auto}@media (max-width: 768px){.btn{min-height:44px;font-size:.9rem}.option-btn{min-height:64px;padding:var(--space-md);gap:var(--space-md)}.btn-lg{min-height:52px;font-size:1rem}.btn-group{flex-direction:column}.btn-group .btn{width:100%}}@media (max-width: 480px){.btn{min-height:40px;font-size:.875rem;padding:var(--space-sm) var(--space-md)}.option-btn{min-height:56px;padding:var(--space-sm) var(--space-md);gap:var(--space-sm)}.option-btn .option-letter{width:28px;height:28px;font-size:.8rem}.nav-btn{padding:var(--space-sm) var(--space-md);font-size:.875rem}}@keyframes buttonPulse{0%{box-shadow:0 0 #3b82f666}70%{box-shadow:0 0 0 10px #3b82f600}to{box-shadow:0 0 #3b82f600}}.btn-pulse{animation:buttonPulse 2s infinite}.btn-loading{position:relative;color:transparent!important}.btn-loading:after{content:"";position:absolute;width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:buttonSpin 1s linear infinite}@keyframes buttonSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cadeira-card,.level-card{@extend .card-base;padding:var(--space-2xl);cursor:pointer;display:flex;flex-direction:column;text-align:left;position:relative;overflow:hidden}.cadeira-card.completed,.level-card.completed{border-left:6px solid var(--success)}.cadeira-card:focus,.level-card:focus{outline:3px solid rgba(59,130,246,.3);outline-offset:2px}.cadeira-icon{width:64px;height:64px;color:var(--primary);margin-bottom:var(--space-md);display:flex;align-items:center;justify-content:center;flex-shrink:0}.level-icon{width:48px;height:48px;color:var(--primary);margin-bottom:var(--space-md);display:flex;align-items:center;justify-content:center;flex-shrink:0}.cadeira-content,.level-content{flex:1;margin-bottom:var(--space-lg)}.level-name{font-weight:700;margin-bottom:var(--space-md);color:var(--text-primary);line-height:1.3;font-size:1.25rem}.cadeira-desc,.level-desc{font-size:1rem;color:var(--text-secondary);margin-bottom:var(--space-lg);line-height:1.6}.level-desc{font-size:.95rem}.cadeira-meta,.level-meta{display:flex;gap:var(--space-lg);margin-bottom:var(--space-lg)}.progress-info{margin-top:var(--space-md)}.progress-info span{display:block;font-size:.9rem;color:var(--text-secondary);margin-bottom:var(--space-sm)}.cadeira-footer,.level-footer{display:flex;justify-content:flex-end}.stat-card{background:var(--bg-secondary);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-xl);display:flex;align-items:center;gap:var(--space-lg);transition:all var(--transition)}.stat-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.score-value{font-size:3.5rem;font-weight:800;color:var(--text-primary);line-height:1;margin-bottom:var(--space-sm)}.score-value-large{font-size:4rem;font-weight:800;color:var(--text-primary);line-height:1;margin:var(--space-lg) 0}.score-value span,.score-value-large span{color:var(--text-secondary);font-weight:600}.score-value span{font-size:1.5rem}.score-value-large span{font-size:2rem}.score-percentage,.score-percentage-large{font-weight:700;color:var(--primary);margin-bottom:var(--space-md)}.score-percentage{font-size:1.25rem}.option-card{background:var(--bg-secondary);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-lg);transition:all var(--transition);display:flex;flex-direction:column}.option-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--primary-light)}.option-card-icon{width:48px;height:48px;background:var(--gradient-primary);border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;color:#fff;margin-bottom:var(--space-md)}.option-card:nth-child(2) .option-card-icon{background:var(--gradient-success)}.option-content{flex:1;display:flex;flex-direction:column}.option-content h5{font-size:1rem;font-weight:700;margin-bottom:var(--space-sm);color:var(--text-primary)}.option-content p{font-size:.85rem;color:var(--text-secondary);margin-bottom:var(--space-md);line-height:1.4;flex:1}.theory-content-card{background:var(--bg-secondary);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-xl);margin-bottom:var(--space-2xl)}.level-card{@extend .card-base;padding:var(--space-2xl);cursor:pointer;display:flex;flex-direction:column;text-align:left;position:relative;overflow:hidden}.level-card.completed{border-left:6px solid var(--success)}.level-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--space-lg)}.level-icon{width:64px;height:64px;color:var(--primary);margin-bottom:var(--space-md);display:flex;align-items:center;justify-content:center;flex-shrink:0}.level-content{flex:1;margin-bottom:var(--space-lg)}.level-name{font-weight:700;margin-bottom:var(--space-md);color:var(--text-primary);line-height:1.3;font-size:1.5rem}.level-desc{font-size:1rem;color:var(--text-secondary);margin-bottom:var(--space-lg);line-height:1.6}.level-meta{display:flex;gap:var(--space-lg);margin-bottom:var(--space-lg)}.cadeira-card{@extend .card-base;padding:var(--space-2xl);cursor:pointer;display:flex;flex-direction:column;text-align:left;position:relative;overflow:hidden;transition:all var(--transition-slow);border:2px solid var(--border-light)}.cadeira-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-xl);border-color:var(--primary-light)}.cadeira-card:focus{outline:3px solid rgba(59,130,246,.3);outline-offset:2px}.cadeira-card.completed{border-left:6px solid var(--success);background:linear-gradient(135deg,var(--bg-primary),rgba(16,185,129,.05))}.cadeira-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--space-lg)}.cadeira-icon{width:64px;height:64px;padding:var(--space-md);background:var(--gradient-primary);border-radius:var(--border-radius-lg);color:#fff;display:flex;align-items:center;justify-content:center;flex-shrink:0}.cadeira-content{flex:1;margin-bottom:var(--space-lg)}.cadeira-name{font-weight:700;margin-bottom:var(--space-md);color:var(--text-primary);line-height:1.3;font-size:1.5rem}.cadeira-desc{font-size:1rem;color:var(--text-secondary);margin-bottom:var(--space-lg);line-height:1.6}.cadeira-meta{display:flex;gap:var(--space-lg);margin-bottom:var(--space-lg);flex-wrap:wrap}.meta-item{display:flex;align-items:center;gap:var(--space-sm);font-size:.9rem;color:var(--text-secondary)}.progress-info{margin-top:var(--space-lg);padding-top:var(--space-lg);border-top:1px solid var(--border-light)}.cadeira-footer{display:flex;justify-content:flex-end;margin-top:auto}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px;opacity:0;visibility:hidden;transition:all .3s ease}.modal-overlay.visible{opacity:1;visibility:visible}.modal-content{background:var(--bg-primary);border-radius:12px;box-shadow:0 10px 50px #0000004d;max-width:600px;width:100%;max-height:90vh;overflow:auto;transform:scale(.9);opacity:0;transition:all .3s ease}.modal-content.visible{transform:scale(1);opacity:1}.theory-modal{max-width:700px}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:24px;border-bottom:1px solid var(--border-light)}.modal-title-section{display:flex;align-items:center;gap:12px}.theory-icon{color:var(--warning)}.modal-title{font-size:1.5rem;font-weight:700;color:var(--text-primary);margin:0}.modal-body{padding:24px}.theory-content{line-height:1.6;color:var(--text-primary);margin-bottom:24px}.theory-keypoints{margin-bottom:24px}.keypoints-title{font-size:1.25rem;font-weight:700;display:flex;align-items:center;gap:8px;margin-bottom:16px;color:var(--text-primary)}.keypoints-list{list-style:none;padding:0;margin:0}.keypoint-item{display:flex;align-items:flex-start;gap:12px;margin-bottom:12px}.keypoint-marker{display:flex;align-items:center;justify-content:center;margin-top:6px}.keypoint-dot{width:8px;height:8px;background:var(--primary);border-radius:50%}.keypoint-text{flex:1;color:var(--text-primary);line-height:1.6}.theory-examples{margin-top:24px}.examples-title{font-size:1.25rem;font-weight:700;margin-bottom:16px;color:var(--text-primary)}.examples-code{background:var(--bg-tertiary);border-radius:8px;padding:16px;overflow-x:auto;font-family:JetBrains Mono,monospace;font-size:.9rem;color:var(--text-primary)}.modal-close-btn{background:none;border:none;cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;color:var(--text-primary);transition:color .2s ease}.modal-close-btn:hover{color:var(--primary)}@media (max-width: 768px){.modal-overlay{padding:10px}.modal-content{max-width:100%;max-height:95vh}.modal-header,.modal-body{padding:16px}}.quiz-header{background:var(--bg-primary);border-bottom:1px solid var(--border-light);padding:var(--space-lg) 0;position:sticky;top:0;z-index:100;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:rgba(255,255,255,.95)}.dark-mode .quiz-header{background:rgba(0,0,0,.95)}.quiz-info{display:flex;flex-direction:column;align-items:center;text-align:center;flex:1;min-width:0}.quiz-title{font-size:1.5rem;font-weight:700;color:var(--text-primary);margin:0 0 var(--space-xs) 0;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.quiz-meta{font-size:.9rem;color:var(--text-secondary);font-weight:500}.progress-section{max-width:1000px;margin:var(--space-md) auto 0 auto;padding:0 var(--space-xl)}.progress-labels{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-sm);font-size:.9rem;color:var(--text-secondary);font-weight:600}.progress-bar{width:100%;height:6px;background:var(--bg-tertiary);border-radius:3px;overflow:hidden;box-shadow:var(--shadow-inner)}.progress-fill{height:100%;background:var(--gradient-primary);transition:width var(--transition-slow) cubic-bezier(.4,0,.2,1);border-radius:3px}@media (max-width: 768px){.quiz-header{padding:var(--space-md) 0}.quiz-header-content{padding:0 var(--space-lg);flex-wrap:wrap;gap:var(--space-md)}.quiz-info{order:2;flex:1 1 100%;margin-top:var(--space-sm)}.quiz-title{font-size:1.25rem}.progress-section{padding:0 var(--space-lg)}}@media (max-width: 480px){.quiz-header-content{padding:0 var(--space-md);flex-direction:column;gap:var(--space-sm)}.quiz-info{order:0;flex:none;margin-top:0}.quiz-title{font-size:1.1rem;white-space:normal;line-height:1.3}.progress-section{padding:0 var(--space-md);margin-top:var(--space-sm)}.progress-labels{font-size:.8rem}}.completion-badge,.completion-badge-large{background:var(--success);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;border-radius:var(--border-radius-lg);gap:var(--space-sm);white-space:nowrap}.completion-badge{border-radius:50%;width:32px;height:32px;padding:var(--space-xs)}.completion-badge-large{padding:var(--space-md) var(--space-lg)}.question-number-badge{color:#fff;padding:var(--space-sm) var(--space-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:600;display:flex;align-items:center;gap:var(--space-xs);background:var(--primary)}.answered-badge{color:#fff;padding:var(--space-sm) var(--space-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:600;display:flex;align-items:center;gap:var(--space-xs);background:var(--success)}.knowledge-badge{display:inline-block;font-size:.7rem;padding:2px 6px;background:rgba(59,130,246,.15);color:#3b82f6;border-radius:4px;flex-shrink:0;font-weight:600;white-space:nowrap}.timeline-card.collected .knowledge-badge{background:var(--gradient-success);color:#fff}.stat-mini-icon{color:var(--primary);margin-bottom:var(--space-sm)}.stat-icon{width:48px;height:48px;padding:var(--space-md);border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-icon.concept{background:rgba(59,130,246,.1);color:var(--primary)}.stat-icon.topic{background:rgba(139,92,246,.1);color:var(--purple)}.stat-icon.example{background:rgba(16,185,129,.1);color:var(--success)}.stat-icon.xp{background:rgba(245,158,11,.1);color:var(--warning)}.banana{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:50%;cursor:grab;transition:all var(--transition);background:rgba(251,146,60,.15);color:#fb923c;flex-shrink:0;border:2px solid rgba(251,146,60,.3);position:relative;overflow:hidden}.banana:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(135deg,rgba(255,255,255,.2),transparent);border-radius:50%}.banana.collectible{cursor:grab;background:rgba(251,146,60,.25);border-color:#fb923c99;animation:bananaPulse 2s ease-in-out infinite}.banana.collectible:hover{transform:scale(1.2) rotate(10deg);background:rgba(251,146,60,.4);border-color:#fb923c;box-shadow:0 0 20px #fb923c80}.banana.collected{cursor:default;background:rgba(16,185,129,.25);color:#10b981;border-color:#10b98180;opacity:.7}@keyframes bananaPulse{0%,to{transform:scale(1);box-shadow:0 0 10px #fb923c4d}50%{transform:scale(1.1);box-shadow:0 0 20px #fb923c80}}.node-icon{width:40px;height:40px;background:var(--bg-tertiary);border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:2px;transition:all var(--transition)}.expand-icon{width:32px;height:32px;background:var(--bg-tertiary);border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;transition:all var(--transition);color:var(--text-muted);flex-shrink:0;margin-top:4px}.expand-toggle{display:flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background:rgba(59,130,246,.1);color:#3b82f6;flex-shrink:0;transition:all var(--transition);cursor:pointer;border:1px solid transparent}.expand-toggle:hover{background:rgba(59,130,246,.2);border-color:#3b82f6;transform:rotate(90deg) scale(1.1)}.unanswered-icon{width:20px;height:20px;border:2px solid var(--text-muted);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.8rem}.comment-saved:before{content:"âœ“";font-weight:700}.comment-hint{font-size:.9rem;color:var(--text-secondary);font-style:italic;margin-top:var(--space-sm)}.form-group{margin-bottom:var(--space-lg)}.form-group label{display:block;margin-bottom:var(--space-sm);font-weight:600;color:var(--text-primary);font-size:.95rem}.form-group input,.form-group textarea,.form-group select{width:100%;padding:var(--space-md) var(--space-lg);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);font-family:inherit;font-size:1rem;background:var(--bg-primary);color:var(--text-primary);transition:all var(--transition)}.form-group input:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.form-group input::placeholder,.form-group textarea::placeholder{color:var(--text-muted)}.form-help{font-size:.85rem;color:var(--text-secondary);margin-top:var(--space-sm)}.form-error{font-size:.85rem;color:var(--danger);margin-top:var(--space-sm)}.form-group.error input,.form-group.error textarea,.form-group.error select{border-color:var(--danger);background:rgba(239,68,68,.05)}.form-group.error input:focus,.form-group.error textarea:focus,.form-group.error select:focus{box-shadow:0 0 0 3px #ef44441a}.option-btn{width:100%;padding:var(--space-sm) var(--space-md);border:none;border-radius:var(--border-radius);font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:var(--space-sm);transition:all var(--transition);font-size:.9rem;margin-top:auto}.option-btn.primary{background:var(--gradient-primary);color:#fff}.option-btn.secondary{background:var(--bg-primary);color:var(--text-primary);border:2px solid var(--border-light)}.option-btn:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.option-btn.primary:hover{box-shadow:var(--shadow-md)}.option-btn.secondary:hover{border-color:var(--primary);background:var(--primary);color:#fff}.main-header{margin-bottom:var(--space-3xl)}.header-content{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;width:100%;gap:var(--space-md)}.header-left{display:flex;align-items:center;gap:var(--space-md)}.app-logo{color:var(--primary);filter:drop-shadow(0 2px 4px rgba(59,130,246,.3))}.app-title{font-size:clamp(1.75rem,4vw,2.5rem);font-weight:800;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.quiz-header{background:var(--bg-primary);border-bottom:1px solid var(--border-light);margin-bottom:var(--space-2xl);padding-bottom:var(--space-xl);position:sticky;top:0;z-index:100}.quiz-header-content{max-width:1000px;margin:0 auto;width:100%;display:flex;align-items:center;justify-content:space-between;gap:var(--space-lg);flex-wrap:wrap}.quiz-info{flex:1;min-width:min-content;text-align:center}.quiz-title{font-size:clamp(1.5rem,4vw,2rem);font-weight:700;margin-bottom:var(--space-xs);color:var(--text-primary)}.quiz-meta{font-size:.95rem;color:var(--text-secondary)}.knowledge-tree-header .header-content{display:flex;justify-content:space-between;align-items:flex-start;margin-top:var(--space-lg);gap:var(--space-lg)}.title-section{display:flex;align-items:center;gap:var(--space-lg);flex:1}.header-icon-container{width:64px;height:64px;background:var(--gradient-primary);border-radius:var(--border-radius-lg);display:flex;align-items:center;justify-content:center}.header-icon{color:#fff}.title-text h1{font-size:2rem;font-weight:800;margin-bottom:var(--space-xs);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.title-text .subtitle{font-size:1.1rem;color:var(--text-secondary);margin:0}.tree-header{text-align:center;margin-bottom:var(--space-2xl)}.tree-header h2{font-size:1.5rem;font-weight:700;margin-bottom:var(--space-sm);color:var(--text-primary)}.tree-header p{color:var(--text-secondary);margin:0}.breadcrumb{display:flex;align-items:center;gap:var(--space-md);margin-bottom:var(--space-2xl);flex-wrap:wrap}.cadeira-title{font-size:clamp(1.5rem,3vw,2rem);font-weight:700;color:var(--text-primary)}.progress-section{max-width:1000px;margin:var(--space-lg) auto 0;width:100%}.progress-labels{display:flex;justify-content:space-between;margin-bottom:var(--space-sm);font-size:.9rem;font-weight:600;color:var(--text-secondary)}.welcome-section{text-align:center;margin-bottom:var(--space-3xl);padding:var(--space-2xl) 0}.welcome-title{font-size:clamp(2rem,5vw,3rem);font-weight:800;margin-bottom:var(--space-md);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.welcome-subtitle{font-size:clamp(1rem,3vw,1.25rem);color:var(--text-secondary);max-width:600px;margin:0 auto}.section-title{font-size:1.75rem;font-weight:700;margin-bottom:var(--space-2xl);display:flex;align-items:center;gap:var(--space-md);color:var(--text-primary)}.section-subtitle{text-align:center;color:var(--text-secondary);margin-bottom:var(--space-2xl);font-size:1.1rem}@media (max-width: 768px){.header-content{flex-direction:column;align-items:flex-start}.header-left{width:100%;justify-content:space-between}.quiz-header-content{flex-direction:column;align-items:stretch;gap:var(--space-md)}.quiz-info{text-align:center}.knowledge-tree-header .header-content{flex-direction:column;align-items:flex-start;gap:var(--space-lg)}.title-section{flex-direction:column;align-items:flex-start;gap:var(--space-md)}.welcome-section{margin-bottom:var(--space-2xl);padding:var(--space-xl) 0}}.quiz-header{background:var(--bg-primary);border-bottom:1px solid var(--border-light);padding:var(--space-lg) 0;margin-bottom:var(--space-xl)}.quiz-header-content{max-width:1000px;margin:0 auto;padding:0 var(--space-xl);display:flex;align-items:center;justify-content:space-between;gap:var(--space-lg)}.quiz-info{flex:1;text-align:center}.quiz-title{font-size:1.5rem;font-weight:700;color:var(--text-primary);margin:0 0 var(--space-xs) 0}.quiz-meta{font-size:.9rem;color:var(--text-secondary)}.progress-section{max-width:1000px;margin:0 auto;padding:0 var(--space-xl);margin-top:var(--space-lg)}.progress-labels{display:flex;justify-content:space-between;margin-bottom:var(--space-xs);font-size:.9rem;color:var(--text-secondary)}@media (max-width: 768px){.quiz-header-content{padding:0 var(--space-lg);flex-direction:column;gap:var(--space-md)}.quiz-info{order:-1}.progress-section{padding:0 var(--space-lg)}}@media (max-width: 480px){.quiz-header-content,.progress-section{padding:0 var(--space-md)}}.questions-navigation{background:var(--bg-secondary);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-lg);margin-bottom:var(--space-xl)}.nav-buttons{display:flex;align-items:center;justify-content:space-between;gap:var(--space-md);flex-wrap:wrap}.questions-dots{display:flex;gap:var(--space-sm);flex-wrap:wrap;justify-content:center;flex:1;margin:0 var(--space-md)}.question-dot{width:40px;height:40px;border:2px solid var(--border-light);border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:600;font-size:.9rem;transition:all var(--transition);background:var(--bg-primary);color:var(--text-primary)}.question-dot:hover{border-color:var(--primary);transform:translateY(-2px)}.question-dot.unanswered{border-color:var(--text-muted);color:var(--text-muted)}.tree-navigation{margin-bottom:var(--space-2xl);text-align:center}@media (max-width: 768px){.questions-navigation{border:1px solid var(--border-light)}.nav-buttons{flex-direction:column;gap:var(--space-lg)}.questions-dots{order:-1;width:100%;margin:0}.tree-navigation{margin-bottom:var(--space-xl)}}@media (max-width: 480px){.question-dot{width:35px;height:35px;font-size:.8rem}.nav-btn{padding:var(--space-sm) var(--space-md);font-size:.9rem}.questions-dots{gap:var(--space-xs)}}.questions-navigation{margin-bottom:var(--space-xl)}.nav-buttons{display:flex;align-items:center;justify-content:space-between;gap:var(--space-lg);flex-wrap:wrap}.questions-dots{display:flex;gap:var(--space-sm);flex-wrap:wrap;justify-content:center;flex:1}.question-dot{width:40px;height:40px;border:2px solid var(--border-light);border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.9rem;cursor:pointer;transition:all var(--transition);background:var(--bg-primary);color:var(--text-primary)}.question-dot:hover:not(.current){border-color:var(--primary);transform:translateY(-2px)}.question-dot.current{border-color:var(--primary);background:var(--primary);color:#fff;transform:scale(1.1)}.question-dot.answered{border-color:var(--success);background:var(--success);color:#fff}.question-dot.unanswered{border-color:var(--border-light);background:var(--bg-secondary)}.results-actions{display:flex;gap:var(--space-lg);justify-content:center;margin-top:var(--space-2xl);flex-wrap:wrap}.finish-quiz-section{text-align:center;margin-top:var(--space-2xl);padding-top:var(--space-xl);border-top:1px solid var(--border-light)}@media (max-width: 768px){.nav-buttons{flex-direction:column;gap:var(--space-md)}.questions-dots{order:-1;margin-bottom:var(--space-md)}.results-actions{flex-direction:column;align-items:center}.question-dot{width:36px;height:36px;font-size:.8rem}}.main-menu{min-height:100vh;padding:var(--space-xl);display:flex;flex-direction:column;background:var(--bg-primary)}.main-content{flex:1;max-width:1200px;margin:0 auto;width:100%}.quiz-screen{min-height:100vh;padding:var(--space-xl);display:flex;flex-direction:column;background:var(--bg-primary)}.question-card{width:100%}.knowledge-tree-screen .container{max-width:1000px;margin:0 auto}.knowledge-tree-container{background:var(--bg-secondary);border:1px solid var(--border-light);border-radius:var(--border-radius-xl);padding:var(--space-2xl);margin-bottom:var(--space-xl)}.tree-content{max-width:800px;margin:0 auto;overflow:hidden;position:relative;background:linear-gradient(180deg,#f0f9ff 0%,#e0f7fa 100%);border-radius:12px;border:1px solid #e2e8f0;min-height:800px}.tree-node{margin-bottom:var(--space-xs)}.node-content{display:flex;align-items:flex-start;gap:var(--space-md);padding:var(--space-lg);background:var(--bg-primary);border:2px solid var(--border-light);border-radius:var(--border-radius-lg);cursor:pointer;transition:all var(--transition);position:relative}.node-content.has-children:hover{border-color:var(--primary);background:rgba(59,130,246,.03);transform:translate(4px)}.node-content.expanded{border-color:var(--primary);background:rgba(59,130,246,.05)}.node-content.root-node{background:linear-gradient(135deg,var(--bg-primary),rgba(59,130,246,.05));border-color:var(--primary)}.node-text{flex:1;min-width:0}.node-children{margin-top:var(--space-md);border-left:3px solid var(--border-light);margin-left:20px;padding-left:var(--space-lg);position:relative}.node-children:before{content:"";position:absolute;left:-3px;top:0;bottom:0;width:3px;background:linear-gradient(to bottom,transparent,var(--border-light),transparent)}.organic-tree-container{position:relative;width:100%;height:800px;background:linear-gradient(180deg,#f0f9ff 0%,#e0f7fa 100%);border-radius:18px;overflow:hidden;margin:2rem 0;border:2px solid #e2e8f0;box-shadow:0 10px 25px #0000001a}.tree-trunk{position:absolute;bottom:0;left:50%;transform:translate(-50%);width:60px;height:120px;background:linear-gradient(180deg,#8B4513 0%,#6B3410 100%);border-radius:30px 30px 0 0;z-index:1;box-shadow:inset 0 4px 8px #0000004d,0 4px 12px #0003}.tree-trunk:before{content:"";position:absolute;left:0;top:0;right:0;height:100%;background:linear-gradient(90deg,rgba(139,69,19,.3),transparent,rgba(139,69,19,.3));border-radius:30px 30px 0 0}.organic-tree{position:relative;width:100%;height:100%}.tree-branch{position:absolute;background:linear-gradient(180deg,rgba(139,92,246,.6),rgba(139,92,246,.2));width:4px;transform-origin:top center;opacity:.7;z-index:2;border-radius:2px;box-shadow:0 2px 4px #0000001a}.tree-branch:before{content:"";position:absolute;top:0;left:-1px;right:-1px;bottom:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);border-radius:2px}.empty-tree-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;text-align:center;color:#64748b}.empty-tree-state svg{color:#cbd5e1;margin-bottom:1rem;opacity:.6}.empty-tree-state h3{color:#1e293b;margin-bottom:.5rem}.error-state{text-align:center;padding:var(--space-3xl);color:var(--text-secondary);background:var(--bg-primary);border-radius:var(--border-radius-2xl);border:2px solid var(--border-light);box-shadow:var(--shadow-lg)}.error-state h2{margin-bottom:var(--space-md);color:var(--text-primary)}@media (max-width: 768px){.main-menu{padding:var(--space-lg)}.quiz-screen{padding:var(--space-md)}.quiz-content{gap:var(--space-lg)}.results-summary{grid-template-columns:1fr;gap:var(--space-lg)}.questions-grid{grid-template-columns:1fr}.knowledge-tree-screen{padding:var(--space-lg)}.knowledge-tree-container{padding:var(--space-xl)}.organic-tree-container{height:600px}.timeline-line{left:20px}.timeline-item.left,.timeline-item.right{padding-left:60px;padding-right:0;justify-content:flex-start}.timeline-connector{left:20px}}@media (max-width: 480px){.main-menu,.quiz-screen{padding:var(--space-md)}.organic-tree-container{height:400px}.node-children{margin-left:10px;padding-left:var(--space-md)}.tree-content{min-height:400px}}.welcome-section{text-align:center;margin-bottom:var(--space-2xl)}.welcome-title{font-size:clamp(1.75rem,4vw,2.5rem);margin-bottom:var(--space-md);color:var(--text-primary)}.welcome-subtitle{font-size:1.1rem;color:var(--text-secondary);max-width:600px;margin:0 auto}.section-title{font-size:1.75rem;margin-bottom:var(--space-xl);color:var(--text-primary)}@media (max-width: 768px){.cadeiras-grid{grid-template-columns:1fr}.action-buttons-main{flex-direction:column}}.completion-header{text-align:center;margin-bottom:var(--space-2xl)}.medal-display{font-size:4rem;margin-bottom:var(--space-lg)}.completion-title{font-size:clamp(1.75rem,4vw,2.5rem);margin-bottom:var(--space-md);color:var(--text-primary)}.completion-subtitle{font-size:1.1rem;color:var(--text-secondary);max-width:500px;margin:0 auto}.score-summary{display:flex;flex-direction:column;gap:var(--space-2xl);margin-bottom:var(--space-2xl)}.action-buttons{display:flex;gap:var(--space-md);justify-content:center;flex-wrap:wrap}@media (max-width: 768px){.action-buttons{flex-direction:column;align-items:center}}.breadcrumb{display:flex;align-items:center;gap:var(--space-md);margin-bottom:var(--space-xl)}.cadeira-title{font-size:1.75rem;font-weight:700;color:var(--text-primary);margin:0}.levels-section{margin-top:var(--space-2xl)}.section-title{font-size:1.75rem;margin-bottom:var(--space-md);color:var(--text-primary)}.section-subtitle{font-size:1rem;color:var(--text-secondary);margin-bottom:var(--space-xl)}.levels-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:var(--space-xl)}.level-options{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-md);margin-top:var(--space-lg)}@media (max-width: 768px){.levels-grid,.level-options{grid-template-columns:1fr}}.progress-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-sm)}.progress-text{font-size:.9rem;color:var(--text-secondary)}.progress-percentage{font-size:.9rem;font-weight:600;color:var(--primary)}@media (max-width: 480px){.cadeira-header{flex-direction:column;align-items:flex-start;gap:var(--space-md)}.cadeira-meta{flex-direction:column;gap:var(--space-sm)}.welcome-title{font-size:1.5rem}.welcome-subtitle{font-size:1rem}}.welcome-section{text-align:center;margin-bottom:var(--space-2xl);padding:var(--space-xl) 0}.welcome-title{font-size:clamp(1.75rem,4vw,2.5rem);margin-bottom:var(--space-md);color:var(--text-primary);font-weight:800;line-height:1.2}.welcome-subtitle{font-size:1.1rem;color:var(--text-secondary);max-width:600px;margin:0 auto;line-height:1.6}.cadeiras-section{margin-top:var(--space-2xl)}.section-title{font-size:1.75rem;margin-bottom:var(--space-xl);color:var(--text-primary);font-weight:700}.cadeiras-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:var(--space-xl)}.action-buttons-main{display:flex;gap:var(--space-md);margin-bottom:var(--space-2xl);flex-wrap:wrap}@media (max-width: 768px){.cadeiras-grid{grid-template-columns:1fr;gap:var(--space-lg)}.action-buttons-main{flex-direction:column}.welcome-section{padding:var(--space-lg) 0}.section-title{font-size:1.5rem}}@media (max-width: 480px){.welcome-title{font-size:1.5rem}.welcome-subtitle{font-size:1rem}}.quiz-content{flex:1;max-width:1000px;margin:0 auto;width:100%;display:flex;flex-direction:column;gap:var(--space-2xl)}.quiz-stats-bar{display:flex;gap:var(--space-md);flex-wrap:wrap;justify-content:center}.stat-badge{background:var(--bg-secondary);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-md) var(--space-lg);display:flex;align-items:center;gap:var(--space-sm);font-weight:600;font-size:.9rem;transition:all var(--transition);color:var(--text-primary)}.stat-badge:hover{transform:translateY(-2px);box-shadow:var(--shadow)}.stat-badge.streak{background:linear-gradient(135deg,rgba(245,158,11,.1),rgba(217,119,6,.1));border-color:#f59e0b4d;color:var(--warning)}.question-container{display:flex;flex-direction:column;gap:var(--space-2xl)}.question-card{background:var(--bg-primary);border:2px solid var(--border-light);border-radius:var(--border-radius-xl);padding:var(--space-2xl);box-shadow:var(--shadow-lg);transition:all var(--transition)}.question-card:hover{box-shadow:var(--shadow-xl);border-color:var(--primary-light)}.question-meta{display:flex;gap:var(--space-md);align-items:center}.question-number-badge,.answered-badge{color:#fff;padding:var(--space-sm) var(--space-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:600;display:flex;align-items:center;gap:var(--space-xs)}.question-number-badge{background:var(--primary)}.answered-badge{background:var(--success)}.question-text{font-size:clamp(1.25rem,3vw,1.5rem);font-weight:700;margin-bottom:var(--space-xl);line-height:1.6;color:var(--text-primary)}.code-block{background:var(--bg-tertiary);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-xl);margin-bottom:var(--space-xl);overflow-x:auto;font-family:JetBrains Mono,Fira Code,Consolas,Monaco,monospace;font-size:.9rem;line-height:1.5;color:var(--text-primary)}.code-block::-webkit-scrollbar{height:6px}.code-block::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.code-block::-webkit-scrollbar-thumb{background:var(--primary);border-radius:3px}.options-grid{display:flex;flex-direction:column;gap:var(--space-md)}.option-btn{background:var(--bg-secondary);border:2px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-lg);text-align:left;cursor:pointer;display:flex;align-items:center;gap:var(--space-lg);transition:all var(--transition);font-size:1rem;font-weight:500;min-height:72px;position:relative;overflow:hidden;color:var(--text-primary)}.option-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left var(--transition-slow)}.option-btn:hover:before{left:100%}.option-btn:hover:not(:disabled),.option-btn:focus:not(:disabled){border-color:var(--primary);background:rgba(59,130,246,.05);transform:translateY(-2px);box-shadow:var(--shadow-md);outline:none}.option-btn:disabled{cursor:not-allowed;opacity:.8}.option-btn.correct{border-color:var(--success);background:rgba(16,185,129,.1);color:var(--success)}.option-btn.incorrect{border-color:var(--danger);background:rgba(239,68,68,.1);color:var(--danger)}.option-letter{font-weight:700;font-size:1.1rem;color:var(--primary);min-width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--bg-primary);border:2px solid var(--primary);border-radius:var(--border-radius);transition:all var(--transition);flex-shrink:0}.option-btn:hover .option-letter{background:var(--primary);color:#fff}.option-btn.correct .option-letter,.option-btn.incorrect .option-letter{background:transparent;color:inherit;border-color:currentColor}.option-text{flex:1;text-align:left;font-weight:500}.option-icon{opacity:0;transition:opacity var(--transition);flex-shrink:0}.option-btn.correct .option-icon,.option-btn.incorrect .option-icon{opacity:1}.comments-section{background:var(--bg-secondary);border:1px solid var(--border-light);border-radius:var(--border-radius-xl);padding:var(--space-xl);transition:all var(--transition)}.comments-section:focus-within{border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.comments-label{display:flex;align-items:center;justify-content:space-between;gap:var(--space-lg);margin-bottom:var(--space-lg);font-weight:600;color:var(--text-primary);font-size:1.1rem}.comment-saved{color:var(--success);font-size:.8rem;font-weight:600;display:flex;align-items:center;gap:var(--space-xs)}.comment-saved:before{content:"Checkmark";font-weight:700}.comment-textarea{width:100%;padding:var(--space-lg);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);font-family:inherit;font-size:1rem;resize:vertical;min-height:100px;transition:all var(--transition);background:var(--bg-primary);color:var(--text-primary);line-height:1.6}.comment-textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.comment-textarea::placeholder{color:var(--text-muted)}.question-header{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--space-lg);margin-bottom:var(--space-xl);flex-wrap:wrap}.question-meta{display:flex;gap:var(--space-md);align-items:center;flex-wrap:wrap}.question-text{font-size:clamp(1.25rem,3vw,1.5rem);font-weight:700;margin-bottom:var(--space-xl);line-height:1.6;color:var(--text-primary);flex:1;min-width:300px}.knowledge-tree-screen{min-height:100vh;padding:var(--space-xl);background:var(--bg-primary)}.knowledge-tree-screen .container{max-width:1200px;margin:0 auto}.knowledge-tree-header{margin-bottom:var(--space-2xl)}.breadcrumb{margin-bottom:var(--space-lg)}.header-content{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--space-xl);margin-top:var(--space-lg)}.title-section{display:flex;align-items:flex-start;gap:var(--space-lg);flex:1}.header-icon-container{width:72px;height:72px;background:var(--gradient-primary);border-radius:var(--border-radius-xl);display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:var(--shadow-lg)}.header-icon{color:#fff;width:32px;height:32px}.title-text h1{font-size:clamp(1.75rem,4vw,2.5rem);font-weight:800;margin-bottom:var(--space-xs);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2}.title-text .subtitle{font-size:1.2rem;color:var(--text-secondary);margin:0 0 var(--space-sm) 0;font-weight:500}.title-text .data-status{font-size:.9rem;margin-top:var(--space-sm);padding:var(--space-xs) var(--space-sm);border-radius:var(--border-radius);display:inline-block}.title-text .data-status.real{background:rgba(16,185,129,.1);color:var(--success);border:1px solid rgba(16,185,129,.3)}.title-text .data-status.empty{background:rgba(245,158,11,.1);color:var(--warning);border:1px solid rgba(245,158,11,.3)}.completion-badge-large{background:var(--gradient-success);color:#fff;padding:var(--space-md) var(--space-lg);border-radius:var(--border-radius-lg);font-weight:600;display:flex;align-items:center;gap:var(--space-sm);white-space:nowrap;box-shadow:var(--shadow-md)}.collection-progress{background:var(--bg-secondary);border:2px solid var(--border-light);border-radius:var(--border-radius-xl);padding:var(--space-xl);margin-bottom:var(--space-2xl);box-shadow:var(--shadow)}.progress-header{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-lg);font-weight:700;color:var(--text-primary);font-size:1.1rem}.progress-header svg{color:var(--warning)}.progress-stats{display:flex;justify-content:space-between;align-items:center;margin-top:var(--space-md);font-size:.95rem;color:var(--text-secondary);font-weight:600}.tree-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:var(--space-lg);margin-bottom:var(--space-2xl)}.stat-card{background:var(--bg-primary);border:2px solid var(--border-light);border-radius:var(--border-radius-xl);padding:var(--space-xl);display:flex;align-items:center;gap:var(--space-lg);transition:all var(--transition-slow);box-shadow:var(--shadow)}.stat-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--primary-light)}.stat-icon{width:56px;height:56px;padding:var(--space-md);border-radius:var(--border-radius-lg);display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-icon.concept{background:linear-gradient(135deg,rgba(59,130,246,.15),rgba(59,130,246,.05));color:var(--primary);border:2px solid rgba(59,130,246,.2)}.stat-icon.topic{background:linear-gradient(135deg,rgba(139,92,246,.15),rgba(139,92,246,.05));color:var(--purple);border:2px solid rgba(139,92,246,.2)}.stat-icon.example{background:linear-gradient(135deg,rgba(16,185,129,.15),rgba(16,185,129,.05));color:var(--success);border:2px solid rgba(16,185,129,.2)}.stat-icon.xp{background:linear-gradient(135deg,rgba(245,158,11,.15),rgba(245,158,11,.05));color:var(--warning);border:2px solid rgba(245,158,11,.2)}.stat-info{display:flex;flex-direction:column;flex:1}.stat-number{font-size:1.75rem;font-weight:800;color:var(--text-primary);line-height:1;margin-bottom:var(--space-xs)}.stat-label{font-size:.9rem;color:var(--text-secondary);font-weight:600;text-transform:uppercase;letter-spacing:.5px}.tree-navigation{margin-bottom:var(--space-2xl);display:flex;justify-content:center}.knowledge-tree-container{background:var(--bg-primary);border:2px solid var(--border-light);border-radius:var(--border-radius-2xl);padding:var(--space-3xl);margin-bottom:var(--space-xl);box-shadow:var(--shadow-lg);min-height:600px;display:flex;flex-direction:column;width:100%}.tree-header{text-align:center;margin-bottom:var(--space-3xl)}.tree-header h2{font-size:2rem;font-weight:800;margin-bottom:var(--space-lg);color:var(--text-primary);line-height:1.2}.tree-header p{color:var(--text-secondary);font-size:1.25rem;line-height:1.6;max-width:800px;margin:0 auto}.timeline-container{position:relative;width:100%;margin:0 auto;padding:var(--space-2xl) 0;flex:1}.timeline-line{position:absolute;left:50%;top:0;bottom:0;width:4px;background:var(--primary);transform:translate(-50%);z-index:1;border-radius:2px}.timeline-tree{position:relative;z-index:2;width:100%}.timeline-item{display:flex;align-items:flex-start;margin-bottom:var(--space-2xl);position:relative;width:100%}.timeline-item.left{justify-content:flex-start;padding-right:calc(50% + var(--space-xl))}.timeline-item.right{justify-content:flex-end;padding-left:calc(50% + var(--space-xl))}.timeline-dot{width:20px;height:20px;background:var(--primary);border:4px solid var(--bg-primary);border-radius:50%;box-shadow:var(--shadow-lg);z-index:4}.timeline-branch{width:3px;flex:1;background:var(--primary-light);margin-top:4px;min-height:60px}.timeline-card{background:var(--bg-primary);border:2px solid var(--border-light);border-radius:var(--border-radius-xl);padding:var(--space-2xl);box-shadow:var(--shadow-lg);transition:all var(--transition);width:100%;max-width:500px;position:relative;min-height:140px;display:flex;flex-direction:column;justify-content:space-between}.timeline-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-xl);border-color:var(--primary)}.timeline-card.collected{border-color:var(--success);background:var(--bg-primary)}.timeline-card.collectible{border-color:var(--warning);animation:subtlePulse 3s ease-in-out infinite}@keyframes subtlePulse{0%,to{box-shadow:var(--shadow-lg)}50%{box-shadow:var(--shadow-xl)}}.card-content{cursor:pointer;flex:1;display:flex;flex-direction:column;gap:var(--space-md)}.card-header{display:flex;align-items:flex-start;gap:var(--space-lg);margin-bottom:0}.node-icon{width:56px;height:56px;background:var(--bg-tertiary);border-radius:var(--border-radius-lg);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all var(--transition);border:2px solid transparent}.card-content:hover .node-icon{transform:scale(1.1);border-color:currentColor}.node-title{flex:1;min-width:0;display:flex;flex-direction:column;gap:var(--space-sm)}.node-title h4{margin:0;font-size:1.4rem;font-weight:700;color:var(--text-primary);line-height:1.3}.knowledge-badge{display:inline-block;font-size:.85rem;padding:var(--space-sm) var(--space-md);background:rgba(251,146,60,.15);color:#fb923c;border-radius:var(--border-radius-lg);font-weight:700;white-space:nowrap;border:2px solid rgba(251,146,60,.3);align-self:flex-start}.timeline-card.collected .knowledge-badge{background:var(--success);color:#fff;border-color:var(--success)}.card-actions{display:flex;align-items:center;gap:var(--space-md);margin-top:auto}.banana{display:flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:var(--border-radius-lg);cursor:pointer;transition:all var(--transition);background:rgba(251,146,60,.15);color:#fb923c;flex-shrink:0;border:3px solid rgba(251,146,60,.3)}.banana.collectible{cursor:pointer;background:rgba(251,146,60,.25);border-color:#fb923c99;animation:bananaPulse 2s ease-in-out infinite}.banana.collectible:hover{transform:scale(1.15);background:rgba(251,146,60,.35)}.banana.collected{cursor:default;background:rgba(16,185,129,.25);color:#10b981;border-color:#10b98180}@keyframes bananaPulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.expand-toggle{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:var(--border-radius-lg);background:rgba(59,130,246,.15);color:var(--primary);flex-shrink:0;transition:all var(--transition);cursor:pointer;border:2px solid transparent}.expand-toggle:hover{background:rgba(59,130,246,.25);border-color:var(--primary);transform:scale(1.1)}.node-description{color:var(--text-secondary);font-size:1.1rem;line-height:1.6;margin:0;flex:1}.timeline-children{margin-top:var(--space-2xl);padding-top:var(--space-xl);border-top:2px solid var(--border-light);width:100%}.empty-tree-state{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:var(--space-3xl);color:var(--text-secondary);height:400px;width:100%}.empty-tree-state svg{color:var(--text-muted);margin-bottom:var(--space-lg);opacity:.6;width:64px;height:64px}.empty-tree-state h3{color:var(--text-primary);margin-bottom:var(--space-md);font-size:1.5rem}.empty-tree-state p{font-size:1.1rem;max-width:500px;line-height:1.6}.tree-legend{background:var(--bg-secondary);border:2px solid var(--border-light);border-radius:var(--border-radius-xl);padding:var(--space-xl);margin:var(--space-2xl) 0;width:100%}.tree-legend h4{margin-bottom:var(--space-lg);color:var(--text-primary);font-size:1.3rem;font-weight:700}.legend-items{display:flex;gap:var(--space-xl);flex-wrap:wrap;justify-content:center}.legend-item{display:flex;align-items:center;gap:var(--space-md);font-size:1rem;color:var(--text-secondary);font-weight:600;padding:var(--space-md);background:var(--bg-primary);border-radius:var(--border-radius-lg);border:2px solid var(--border-light)}.quick-actions{margin-top:var(--space-2xl);text-align:center;width:100%}.action-buttons{display:flex;gap:var(--space-lg);justify-content:center;flex-wrap:wrap}@media (max-width: 1200px){.timeline-item.left{padding-right:calc(50% + var(--space-lg))}.timeline-item.right{padding-left:calc(50% + var(--space-lg))}.timeline-card{max-width:450px}}@media (max-width: 768px){.knowledge-tree-container{padding:var(--space-xl);min-height:500px}.tree-header h2{font-size:1.75rem}.tree-header p{font-size:1.1rem}.timeline-line{left:30px}.timeline-item.left,.timeline-item.right{padding-left:70px;padding-right:var(--space-lg);justify-content:flex-start}.timeline-connector{left:30px}.timeline-card{max-width:none;padding:var(--space-xl)}.card-header{gap:var(--space-md)}.node-title h4{font-size:1.25rem}.node-description{font-size:1rem}.legend-items{flex-direction:column;gap:var(--space-lg);align-items:flex-start}.action-buttons{flex-direction:column;align-items:center}}@media (max-width: 480px){.knowledge-tree-container,.timeline-card{padding:var(--space-lg)}.card-header{flex-direction:column;align-items:flex-start;gap:var(--space-md)}.card-actions{align-self:stretch;justify-content:space-between;margin-top:var(--space-md)}.tree-header h2{font-size:1.5rem}.tree-header p{font-size:1rem}.node-title h4{font-size:1.2rem}.node-icon{width:48px;height:48px}.banana{width:40px;height:40px}.expand-toggle{width:32px;height:32px}}.timeline-container{position:relative;max-width:800px;margin:0 auto;padding:var(--space-xl) 0}.timeline-line{position:absolute;left:50%;top:0;bottom:0;width:3px;background:var(--primary);transform:translate(-50%);z-index:1}.timeline-tree{position:relative;z-index:2}.timeline-item{display:flex;align-items:flex-start;margin-bottom:var(--space-xl);position:relative}.timeline-item.left{justify-content:flex-start;padding-right:50%}.timeline-item.right{justify-content:flex-end;padding-left:50%}.timeline-connector{position:absolute;left:50%;top:0;transform:translate(-50%);display:flex;flex-direction:column;align-items:center;z-index:3}.timeline-dot{width:16px;height:16px;background:var(--primary);border:3px solid var(--bg-primary);border-radius:50%;box-shadow:var(--shadow-md)}.timeline-branch{width:2px;flex:1;background:var(--primary-light);margin-top:4px;min-height:40px}.timeline-card{background:var(--bg-primary);border:2px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-lg);box-shadow:var(--shadow);transition:all var(--transition);max-width:320px;width:100%;position:relative}.timeline-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg);border-color:var(--primary)}.timeline-card.collected{border-color:var(--success);background:linear-gradient(135deg,var(--bg-primary),rgba(16,185,129,.05))}.timeline-card.collectible{animation:card-pulse 2s ease-in-out infinite;border-color:var(--warning)}@keyframes card-pulse{0%,to{transform:translateY(-2px);box-shadow:var(--shadow-lg)}50%{transform:translateY(-4px);box-shadow:var(--shadow-lg),0 8px 20px #f59e0b33}}.card-content{cursor:pointer}.card-header{display:flex;align-items:flex-start;gap:var(--space-md);margin-bottom:var(--space-sm)}.node-icon{width:32px;height:32px;background:var(--bg-tertiary);border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-top:2px}.node-title{flex:1;min-width:0}.node-title h4{margin:0 0 var(--space-xs) 0;font-size:1.1rem;font-weight:600;color:var(--text-primary);line-height:1.3}.knowledge-badge{font-size:.75rem;padding:2px 8px;border-radius:12px;background:var(--gradient-warning);color:#fff;font-weight:600}.timeline-card.collected .knowledge-badge{background:var(--gradient-success)}.card-actions{display:flex;align-items:center;gap:var(--space-sm)}.banana{width:32px;height:32px;background:var(--gradient-warning);border:2px solid var(--warning);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition);color:#fff;flex-shrink:0}.banana.collectible{animation:banana-pulse 2s ease-in-out infinite}.banana.collectible:hover{transform:scale(1.1);box-shadow:var(--shadow-md),0 0 15px #f59e0b66}.banana.collected{background:var(--gradient-success);border-color:var(--success);cursor:default}@keyframes banana-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.expand-toggle{width:28px;height:28px;background:var(--bg-tertiary);border:1px solid var(--border-light);border-radius:var(--border-radius-sm);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition);color:var(--text-secondary);flex-shrink:0}.expand-toggle:hover{background:var(--primary);border-color:var(--primary);color:#fff}.node-description{margin:0;font-size:.9rem;color:var(--text-secondary);line-height:1.5}.timeline-children{margin-top:var(--space-lg);border-left:2px solid var(--border-light);padding-left:var(--space-lg)}@media (max-width: 768px){.timeline-line{left:20px}.timeline-item.left,.timeline-item.right{padding-left:60px;padding-right:0;justify-content:flex-start}.timeline-connector{left:20px}.timeline-card{max-width:none}}@keyframes slide-in-left{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes slide-in-right{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}.timeline-item.left .timeline-card{animation:slide-in-left .5s ease-out}.timeline-item.right .timeline-card{animation:slide-in-right .5s ease-out}.solutions-screen{min-height:100vh;padding:var(--space-xl);background:var(--bg-primary)}.solutions-screen .container{max-width:1000px;margin:0 auto}.solutions-header{margin-bottom:var(--space-2xl);text-align:center}.solutions-header h1{font-size:2.2rem;font-weight:800;margin-bottom:var(--space-md);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.solutions-header p{font-size:1.1rem;color:var(--text-secondary);max-width:700px;margin:0 auto}.solutions-controls{display:flex;flex-wrap:wrap;gap:var(--space-md);margin-bottom:var(--space-xl);justify-content:center;align-items:center}.search-input{position:relative;flex:1;min-width:250px;max-width:400px}.search-input input{width:100%;padding:var(--space-md) var(--space-lg) var(--space-md) 40px;border:1px solid var(--border-light);border-radius:var(--border-radius-lg);background:var(--bg-secondary);color:var(--text-primary);font-size:1rem;transition:all var(--transition)}.search-input input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.search-icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--text-muted);pointer-events:none}.filter-select{padding:var(--space-md) var(--space-lg);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);background:var(--bg-secondary);color:var(--text-primary);font-size:.95rem;min-width:160px;cursor:pointer;transition:all var(--transition)}.filter-select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.solutions-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--space-xl);margin-bottom:var(--space-2xl)}.solution-card{background:var(--bg-secondary);border:1px solid var(--border-light);border-radius:var(--border-radius-xl);overflow:hidden;transition:all var(--transition);display:flex;flex-direction:column;height:100%}.solution-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-xl);border-color:var(--primary-light)}.solution-card-header{padding:var(--space-lg);background:var(--bg-tertiary);border-bottom:1px solid var(--border-light)}.solution-title{font-size:1.25rem;font-weight:700;margin:0 0 var(--space-sm) 0;color:var(--text-primary)}.solution-meta{display:flex;flex-wrap:wrap;gap:var(--space-md);font-size:.85rem;color:var(--text-secondary)}.meta-item{display:flex;align-items:center;gap:var(--space-xs)}.solution-card-body{padding:var(--space-lg);flex:1;display:flex;flex-direction:column}.solution-description{color:var(--text-secondary);line-height:1.6;margin-bottom:var(--space-lg);flex:1}.solution-tags{display:flex;flex-wrap:wrap;gap:var(--space-xs);margin-bottom:var(--space-md)}.tag{background:var(--bg-tertiary);color:var(--text-muted);font-size:.75rem;padding:4px 8px;border-radius:12px;font-weight:600}.tag.concept{background:rgba(59,130,246,.15);color:var(--primary)}.tag.example{background:rgba(16,185,129,.15);color:var(--success)}.tag.challenge{background:rgba(239,68,68,.15);color:var(--danger)}.solution-stats{display:flex;justify-content:space-between;align-items:center;padding-top:var(--space-md);border-top:1px dashed var(--border-light);margin-top:auto}.stat{display:flex;align-items:center;gap:var(--space-xs);font-size:.85rem;color:var(--text-muted);font-weight:600}.stat.xp{color:var(--warning)}.stat.time{color:var(--purple)}.solution-actions{display:flex;gap:var(--space-sm);margin-top:var(--space-md)}.btn-solution{flex:1;padding:var(--space-md);border-radius:var(--border-radius-lg);font-weight:600;font-size:.9rem;text-align:center;cursor:pointer;transition:all var(--transition);display:flex;align-items:center;justify-content:center;gap:var(--space-xs)}.btn-primary{background:var(--primary);color:#fff;border:none}.btn-primary:hover{background:var(--primary-dark);transform:translateY(-1px)}.btn-secondary{background:transparent;color:var(--text-primary);border:1px solid var(--border-light)}.btn-secondary:hover{border-color:var(--primary);background:rgba(59,130,246,.05)}.empty-state{text-align:center;padding:var(--space-3xl);color:var(--text-secondary)}.empty-state-icon{width:80px;height:80px;background:var(--bg-tertiary);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto var(--space-lg);color:var(--text-muted)}.empty-state h3{font-size:1.3rem;margin-bottom:var(--space-sm);color:var(--text-primary)}.empty-state p{max-width:500px;margin:0 auto;font-size:.95rem}.pagination{display:flex;justify-content:center;align-items:center;gap:var(--space-md);margin-top:var(--space-xl)}.pagination-btn{width:40px;height:40px;border:1px solid var(--border-light);background:var(--bg-secondary);color:var(--text-primary);border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition);font-weight:600}.pagination-btn:hover:not(:disabled){background:var(--primary);color:#fff;border-color:var(--primary)}.pagination-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}.pagination-btn:disabled{opacity:.5;cursor:not-allowed;color:var(--text-muted)}@media (max-width: 768px){.solutions-controls{flex-direction:column;align-items:stretch}.search-input{max-width:none}.solutions-grid{grid-template-columns:1fr}.solution-card-header,.solution-card-body{padding:var(--space-md)}}.solution-panel{background:var(--bg-primary);border:2px solid var(--border-light);border-radius:var(--border-radius-xl);padding:var(--space-2xl);box-shadow:var(--shadow-lg);margin-top:var(--space-xl)}.solution-panel.correct{border-color:var(--success);background:linear-gradient(135deg,rgba(16,185,129,.05),var(--bg-primary))}.solution-panel.incorrect{border-color:var(--danger);background:linear-gradient(135deg,rgba(239,68,68,.05),var(--bg-primary))}.solution-header{margin-bottom:var(--space-xl)}.solution-result{display:flex;align-items:center;gap:var(--space-md);font-size:1.25rem;font-weight:700}.solution-panel.correct .solution-result{color:var(--success)}.solution-panel.incorrect .solution-result{color:var(--danger)}.solution-content{display:flex;flex-direction:column;gap:var(--space-2xl)}.explanation-section,.theory-section,.comment-review{background:var(--bg-secondary);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-xl)}.explanation-section h4,.theory-section h4,.comment-review h4{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-md);color:var(--text-primary)}.theory-section h4{color:var(--warning)}.comment-review h4{color:var(--purple)}.keypoints-list-small{margin-top:var(--space-md);padding-left:var(--space-lg)}.keypoints-list-small li{margin-bottom:var(--space-sm);color:var(--text-secondary);line-height:1.5}.comment-hint{font-size:.9rem;color:var(--text-muted);margin-top:var(--space-md);font-style:italic}.solution-actions{display:flex;justify-content:space-between;align-items:center;gap:var(--space-md);margin-top:var(--space-2xl)}@media (max-width: 768px){.solution-panel{padding:var(--space-xl)}.solution-content{gap:var(--space-xl)}.explanation-section,.theory-section,.comment-review{padding:var(--space-lg)}.solution-actions{flex-direction:column;gap:var(--space-md)}.solution-actions .btn{width:100%}}.completion-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:var(--space-xl);background:var(--bg-primary)}.completion-container{max-width:500px;width:100%;text-align:center;animation:finishedAppear .6s cubic-bezier(.4,0,.2,1)}@keyframes finishedAppear{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.completion-header{margin-bottom:var(--space-2xl)}.medal-display{font-size:6rem;margin-bottom:var(--space-lg);animation:bounce 2s ease infinite;display:inline-block}.completion-title{font-size:clamp(2rem,5vw,2.5rem);font-weight:800;margin-bottom:var(--space-sm);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.completion-subtitle{font-size:1.25rem;color:var(--text-secondary)}.score-summary{margin-bottom:var(--space-2xl)}.score-card,.score-card-large{background:var(--bg-secondary);border:2px solid var(--border-light);border-radius:var(--border-radius-xl);padding:var(--space-2xl);margin-bottom:var(--space-xl);transition:all var(--transition);text-align:center}.score-card:hover,.score-card-large:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}.score-header{display:flex;align-items:center;justify-content:center;gap:var(--space-md);margin-bottom:var(--space-lg);font-weight:600;color:var(--text-secondary)}.score-icon{color:var(--warning)}.score-value,.score-value-large{font-size:3.5rem;font-weight:800;color:var(--text-primary);line-height:1;margin-bottom:var(--space-sm)}.score-value-large{font-size:4rem;margin:var(--space-lg) 0}.score-value span,.score-value-large span{font-size:1.5rem;color:var(--text-secondary);font-weight:600}.score-percentage,.score-percentage-large{font-size:1.25rem;font-weight:700;color:var(--primary);margin-bottom:var(--space-md)}.score-percentage-large{font-size:1.5rem;margin-bottom:var(--space-lg)}.stats-grid,.results-stats{display:grid;gap:var(--space-md)}.stats-grid{grid-template-columns:repeat(3,1fr)}.results-stats{grid-template-columns:repeat(2,1fr);gap:var(--space-lg)}.stat-mini,.stat-result{background:var(--bg-primary);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-lg);text-align:center;transition:all var(--transition)}.stat-mini:hover,.stat-result:hover{transform:translateY(-2px);box-shadow:var(--shadow)}.stat-mini-icon,.stat-result{color:var(--primary);margin-bottom:var(--space-sm)}.stat-mini-value,.stat-value{display:block;font-size:1.5rem;font-weight:800;color:var(--text-primary);margin-bottom:var(--space-xs)}.stat-mini-label{font-size:.8rem;color:var(--text-secondary);text-transform:uppercase;font-weight:600;letter-spacing:.5px}.stat-label{display:block;font-size:.9rem;color:var(--text-secondary);margin-bottom:var(--space-sm)}.results-screen{max-width:800px;margin:0 auto;padding:var(--space-xl)}.results-header{text-align:center;margin-bottom:var(--space-2xl)}.results-title{font-size:2.5rem;font-weight:800;margin-bottom:var(--space-md);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.results-subtitle{font-size:1.2rem;color:var(--text-secondary)}.results-summary{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-2xl);margin-bottom:var(--space-2xl)}.questions-review{margin-bottom:var(--space-2xl)}.review-title{font-size:1.5rem;font-weight:700;margin-bottom:var(--space-lg);color:var(--text-primary)}.questions-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:var(--space-md)}.question-review-item{background:var(--bg-primary);border:2px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--space-lg);cursor:pointer;transition:all var(--transition);display:flex;flex-direction:column;gap:var(--space-sm)}.question-review-item:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.question-review-item.unanswered{border-color:var(--text-muted);background:var(--bg-secondary)}.question-review-item.correct{border-color:var(--success);background:rgba(16,185,129,.05)}.question-review-item.incorrect{border-color:var(--danger);background:rgba(239,68,68,.05)}.question-number{font-weight:600;color:var(--text-primary)}.question-status{display:flex;align-items:center;gap:var(--space-sm)}.question-status-text{font-size:.8rem;font-weight:600;text-transform:uppercase}.question-review-item.correct .question-status-text{color:var(--success)}.question-review-item.incorrect .question-status-text{color:var(--danger)}.question-review-item.unanswered .question-status-text{color:var(--text-muted)}.correct-icon{color:var(--success)}.incorrect-icon{color:var(--danger)}.question-preview{font-size:.9rem;color:var(--text-secondary);line-height:1.4}.results-actions{display:flex;gap:var(--space-md);justify-content:center;margin-top:var(--space-2xl);flex-wrap:wrap}.results-actions .btn{min-width:200px}.finish-quiz-section{text-align:center;margin-top:var(--space-xl);padding:var(--space-lg);background:linear-gradient(135deg,rgba(16,185,129,.1),rgba(16,185,129,.05));border:2px solid rgba(16,185,129,.3);border-radius:var(--border-radius-lg)}.finish-btn{background:var(--gradient-success);color:#fff;border:none;border-radius:var(--border-radius-lg);padding:var(--space-lg) var(--space-xl);font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:var(--shadow-md);transition:all var(--transition)}.finish-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.solution-actions{display:flex;gap:var(--space-md);justify-content:space-between;margin-top:var(--space-xl)}:root,[data-theme=light]{--primary: #3b82f6;--primary-light: #60a5fa;--primary-dark: #2563eb;--success: #10b981;--danger: #ef4444;--warning: #f59e0b;--purple: #8b5cf6;--gradient-primary: linear-gradient(135deg, #3b82f6, #8b5cf6);--gradient-success: linear-gradient(135deg, #10b981, #34d399);--gradient-warning: linear-gradient(135deg, #f59e0b, #fbbf24);--bg-primary: #ffffff;--bg-secondary: #f8fafc;--bg-tertiary: #e2e8f0;--text-primary: #1e293b;--text-secondary: #475569;--text-muted: #94a3b8;--border-light: #e2e8f0;--border-radius: 12px;--border-radius-sm: 8px;--border-radius-lg: 16px;--border-radius-xl: 24px;--shadow: 0 1px 3px rgba(0, 0, 0, .1), 0 1px 2px rgba(0, 0, 0, .06);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition: .2s ease;--transition-slow: .4s ease;--space-xs: .25rem;--space-sm: .5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-2xl: 3rem;--space-3xl: 4rem;--font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif}[data-theme=dark]{--primary: #60a5fa;--primary-light: #93c5fd;--primary-dark: #3b82f6;--success: #34d399;--danger: #f87171;--warning: #fbbf24;--purple: #a78bfa;--gradient-primary: linear-gradient(135deg, #60a5fa, #a78bfa);--gradient-success: linear-gradient(135deg, #34d399, #6ee7b7);--gradient-warning: linear-gradient(135deg, #fbbf24, #fcd34d);--bg-primary: #0f172a;--bg-secondary: #1e293b;--bg-tertiary: #334155;--text-primary: #f1f5f9;--text-secondary: #cbd5e1;--text-muted: #64748b;--border-light: #334155;--border-radius: 12px;--border-radius-sm: 8px;--border-radius-lg: 16px;--border-radius-xl: 24px;--shadow: 0 1px 3px rgba(0, 0, 0, .3), 0 1px 2px rgba(0, 0, 0, .2);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .3), 0 2px 4px -1px rgba(0, 0, 0, .2);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .3), 0 4px 6px -2px rgba(0, 0, 0, .2);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .3), 0 10px 10px -5px rgba(0, 0, 0, .2);--transition: .2s ease;--transition-slow: .4s ease;--space-xs: .25rem;--space-sm: .5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-2xl: 3rem;--space-3xl: 4rem;--font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes slideInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}@keyframes cardPulse{0%,to{transform:translateY(-2px);box-shadow:var(--shadow-lg)}50%{transform:translateY(-4px);box-shadow:var(--shadow-lg),0 8px 20px #f59e0b33}}@keyframes bananaPulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes progressFill{0%{width:0%}to{width:var(--progress, 0%)}}@keyframes confettiFall{0%{transform:translateY(-100vh) rotate(0);opacity:1}to{transform:translateY(100vh) rotate(720deg);opacity:0}}*,*:before,*:after{transition:background-color .2s ease,color .2s ease,border-color .2s ease,opacity .2s ease,transform .15s ease,box-shadow .2s ease}.btn,.btn-primary,.btn-secondary,.btn-solution,.btn-results,.pagination-btn,.tab-btn,.expand-toggle,.banana{transition:all .25s cubic-bezier(.4,0,.2,1)}.solution-card,.summary-card,.stat-card,.question-card,.question-review-item,.node-content,.timeline-card{transition:all .3s cubic-bezier(.4,0,.2,1)}.option-btn:hover,.node-content:hover,.timeline-card:hover{transition:all .2s ease}input,textarea,.filter-select{transition:all .25s ease}.node-icon,.expand-icon,.stat-icon,.option-icon{transition:all .2s ease}.option-btn:before,.banana:before{transition:left .6s ease}@media (max-width: 1024px) and (min-width: 769px){.container{padding:0 var(--space-lg)}.quiz-content{gap:var(--space-xl)}.question-card{padding:var(--space-xl)}.options-grid{grid-template-columns:1fr}.option-btn{min-height:64px;padding:var(--space-md)}.knowledge-tree-container{padding:var(--space-xl)}.tree-stats{grid-template-columns:1fr 1fr}.node-content{padding:var(--space-md)}.node-children{margin-left:16px;padding-left:var(--space-md)}.timeline-item.left,.timeline-item.right{padding-left:45%;padding-right:0}.timeline-card{max-width:280px}.solutions-grid{grid-template-columns:1fr;gap:var(--space-lg)}.solution-card{max-width:500px;margin:0 auto}.solutions-controls{flex-direction:column;align-items:stretch}.search-input{max-width:none}.results-summary{grid-template-columns:1fr 1fr}.stats-grid{grid-template-columns:repeat(2,1fr)}.questions-grid{grid-template-columns:1fr}.results-actions{flex-direction:column}.btn-results{min-width:auto}}@media (max-width: 768px){:root{--space-xl: 1.5rem;--space-2xl: 2rem;--space-3xl: 2.5rem}.container{padding:0 var(--space-md)}h1{font-size:1.8rem}h2{font-size:1.5rem}h3{font-size:1.3rem}.quiz-stats-bar{flex-direction:column;align-items:stretch}.stat-badge{justify-content:center}.question-header{flex-direction:column;align-items:flex-start}.question-text{font-size:1.1rem}.option-btn{padding:var(--space-md);font-size:.95rem}.option-letter{width:32px;height:32px;font-size:1rem}.knowledge-tree-header .header-content{flex-direction:column;align-items:stretch}.title-section{flex-direction:column;align-items:flex-start}.completion-badge-large{align-self:flex-start}.tree-stats{grid-template-columns:1fr}.node-content{flex-direction:column;align-items:flex-start;gap:var(--space-sm)}.node-icon{width:36px;height:36px}.expand-icon{position:absolute;right:var(--space-md);top:var(--space-md)}.node-children{margin-left:12px;padding-left:var(--space-md)}.timeline-line{left:20px}.timeline-item.left,.timeline-item.right{padding-left:60px;padding-right:0;justify-content:flex-start}.timeline-connector{left:20px}.timeline-card{max-width:none}.solutions-controls{flex-direction:column}.search-input,.filter-select{min-width:auto}.solution-card-header,.solution-card-body{padding:var(--space-md)}.solution-stats{flex-direction:column;gap:var(--space-sm);align-items:flex-start}.solution-actions{flex-direction:column}.results-title{font-size:2rem}.results-summary{grid-template-columns:1fr}.results-tabs{flex-direction:column}.tab-btn{text-align:center}.question-header{flex-direction:column}.option-item{flex-direction:column;align-items:flex-start;gap:var(--space-xs)}.option-letter{align-self:flex-start}}@media (prefers-contrast: high){:root{--bg-primary: #000000;--bg-secondary: #111111;--bg-tertiary: #222222;--text-primary: #ffffff;--text-secondary: #cccccc;--border-light: #444444;--primary: #00ffff;--success: #00ff00;--danger: #ff0000;--warning: #ffff00}.option-btn.correct{background:#003300;border-color:#0f0}.option-btn.incorrect{background:#330000;border-color:red}}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}@keyframes fadeIn{0%,to{opacity:1}}@keyframes slideInLeft{0%,to{transform:translate(0);opacity:1}}@keyframes slideInRight{0%,to{transform:translate(0);opacity:1}}@keyframes pulse{0%,to{transform:scale(1)}}@keyframes bounce{0%,to{transform:translateY(0)}}}:focus-visible{outline:3px solid var(--primary);outline-offset:2px}.btn,.option-btn,.tab-btn,.pagination-btn,.banana,.expand-toggle{min-height:44px;min-width:44px}body{line-height:1.6}.skip-link{position:absolute;top:-40px;left:6px;background:var(--primary);color:#fff;padding:8px;border-radius:var(--border-radius);z-index:10000;transition:top .2s ease}.skip-link:focus{top:6px}html,body{margin:0;padding:0;width:100%;height:100%}#root{width:100%;height:100%}.app{width:100%;min-height:100vh}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#f3f4f6}::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#9ca3af}body.dark ::-webkit-scrollbar-track{background:#1f2937}body.dark ::-webkit-scrollbar-thumb{background:#4b5563}body.dark ::-webkit-scrollbar-thumb:hover{background:#6b7280}::selection{background:#3b82f6;color:#fff}button:focus,input:focus,textarea:focus{outline:none}@keyframes slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@media print{body{background:white}}
